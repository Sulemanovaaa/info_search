








OpenNews: Выпуск BIND 9.14.0, разрывающий совместимость с серверами, не отвечающими на запросы с EDNS

var topnews=[

];


    
  var raw_nowtime=1554711833;











Профиль: Аноним (вход | регистрация)












НОВОСТИ (+)

КОНТЕНТ

WIKI

MAN'ы

ФОРУМ


Поиск (теги)




     



    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }







[ новости /+++ | форум | wiki | теги
| 
]





















Выпуск BIND 9.14.0, разрывающий совместимость с серверами, не отвечающими на запросы с EDNS

22.03.2019 10:18




После более года разработки консорциум ISC представил первый стабильный релиз новой значительной ветки DNS-сервера BIND 9.14. Поддержка ветки 9.14 будет осуществляться до 2 квартала 2020 года в рамках штатного цикла сопровождения. В следующем году будет сформирован LTS релиз 9.16, который будет поддерживаться три года. Обновления для прошлой LTS-ветки 9.11 продолжат выпускаться до декабря 2021 года. Поддержка ветки 9.12 прекратиться в июне.

BIND 9.14.0 стал первым стабильный выпуском, сформированным в рамках новой схемы нумерации версий. Нечётные номера релизов теперь присваиваются экспериментальным веткам, в которых развивается функциональность для будущих стабильных веток, имеющих чётный номер выпуска. Формирование отдельных альфа- и бета-веток прекращено. Таким образом, ветка BIND 9.13  была экспериментальной и на её базе сформирован стабильный релиз BIND 9.14.

Ключевым изменением в BIND 9.14.0 стало отключение кода, позволявшего  взаимодействовать с DNS-серверами, на которых используется старое ПО с некорректно реализованной обработкой запросов EDNS (расширенные флаги, которые кодируются в специальных RR-записях без нарушения обратной совместимости со старым протоколом). Изменение не повлияет работу серверов, не поддерживающих EDNS, но корректно обрабатывающих запросы с флагами EDNS. 

Проблемы могут возникнуть только с серверами, которые вопреки стандарту не отправляют DNS-ответ в старом формате, отбрасывая флаги EDNS, а молча игнорируют подобные запросы, никак не реагируя на них и не отправляя ответный пакет. При этом авторитативные DNS-серверы  могут, как и раньше, не поддерживать EDNS и ограничиваться старым классическим протоколом, но теперь они обязаны корректно реагировать на подобные запросы. В настоящее время все актуальные DNS-серверы корректно отвечают на запросы с EDNS, а проблемные системы, как правило на основе старых выпусков PowerDNS, и блокирующие EDNS межсетевые экраны были уведомлены в рамках проведённой в феврале инициативы DNS flag day.

Ранее для обеспечения взаимодействия с серверами, не отвечавшими на запросы с флагами EDNS, в BIND применялся "грязный хак" - если после отправки запроса с флагами EDNS через определённый промежуток времени не поступал ответ, DNS-сервер считал, что расширенные флаги не поддерживаются и отправлял повторный запрос без флагов EDNS. Наличие подобного кода приводило к увеличению задержек из-за повторной отправки пакетов, повышению нагрузки на сеть и неоднозначности при отсутствии ответа из-за сетевых сбоев, а также мешало внедрению основанных на EDNS возможностей, таких как применение DNS Cookies для защиты от DDoS-атак. 







Другие изменения в BIND 9.14.0:

 Прекращена возможность сборки без OpenSSL и сборки без поддержки DNSSEC. Задействован предоставляемый библиотекой OpenSSL  генератор псевдослучайных чисел (CSPRNG), работающий в неблокирующем режиме;

 Для работы в UNIX-подобных ОС теперь требуется поддержка многопоточности (POSIX  threads), расширенных параметров сокетов для IPv6 (RFC 3542) и Си-компилятора с поддержкой атомарных операций. При сборке в Linux для настройки привилегий процесса  теперь требуется библиотека libcap;

 Прекращено тестирование работы на устаревших ОС, включая старые версии  UnixWare, BSD/OS, AIX, Tru64, SunOS, TruCluster и IRIX. Также удалена поддержка некоторых устаревших систем;

 Существенно изменён код для управления задачами и работой с сокетами - задачи теперь распределяются с использованием очередей, закреплённых за ядрами CPU, а в сетевом стеке реализовано несколько циклов обработки событий, запускаемых в привязанных к CPU разных потоках. Указанные изменения позволили существенно повысить производительность на крупных многоядерных системах, особенно при использовании сетевых карт с поддержкой нескольких очередей обработки пакетов;

 Добавлен новый механизм подключения плагинов, позволяющий подключать дополнительные обработчики запросов, реализованные в форме внешних библиотек. Со временем, планируется выделить в плагины код для обработки необязательных расширений, таких как средства противостояния DDoS-атакам. Например, в плагин filter-aaaa.so заменил собой встроенную реализацию filter-aaaa;

 В named.conf помимо неполиткорректных названий "master" и "slave" теперь в качестве типов зон можно указывать "primary" и "secondary";

 Включены по умолчанию в режиме "relaxed" наработки проекта QNAME Minimization (RFC-7816), нацеленные на сокращение передачи дополнительной информации в запросах с целью предотвращения утечек  сведений о запрошенном домене и повышения приватности. В будущих выпусках планируется применить режим "strict". В указанном режиме резолвер не упоминает полное имя искомого хоста в своих запросах к вышестоящему серверу имён. Например, при определении адреса для хоста foo.bar.baz.com резолвер отправит авторитетному для зоны ".com" серверу запрос "QTYPE=NS,QNAME=baz.com", не упоминая "foo.bar";

 Добавлен режим зеркалирования зон, позволяющий named получать и работать с локальными копиями зон, но без функционирования в форме авторитетного сервера для данных зон. DNS-ответы для зеркалируемых зон не устанавливают бит AA ("authoritative answer"), но выставляют бит AD ("authenticated data"). Основным назначением указанной возможности является обработка локальных копий корневой зоны DNS;

 Существенно повышена производительность работы с большим числом зон, обработки большого числа запросов и работы с корневой зоной. Расширено применение glue-cache, ускорена работа сетевых обработчиков за счёт исключения миграции между ядрами CPU. В проведённых тестах по сравнению с BIND 9.12 производительность обработки тысячи зон возросла на 20%, миллиона зон на 15%, выполнение миллиона операций делегирования на 10%, обработка миллиона RR-запросов на 12%, рекурсивная обработка запросов на 18% и обработка корневой зоны на 10%;

 Добавлена настройка validate-except для определения списка доменов,  для которых не нужно производить валидацию  DNSSEC;
 Добавлена опция "--enable-fips-mode" для включения FIPS-режима в  OpenSSL;

 Добавлены новые настройки min-cache-ttl и min-ncache-ttl для переопределения минимального TTL для полученных DNS записей (positive caching) и несуществующих записей (negative  caching);



 Добавлена поддержка сборки с библиотекой libidn2 для поддержки интернационализированных имён IDNA2008 (ранее поддерживалась только библиотека idnkit-1 и IDNA2003).











исправить  
+11 +/–





Главная ссылка к новости (https://www.mail-archive.com/b...)
OpenNews: Крупнейшие DNS-сервисы и серверы прекратят поддержку проблемных реализаций DNS
OpenNews: ICANN призывает к повсеместному внедрению DNSSEC. Обновление BIND с устранением уязвимостей
OpenNews: Анализ перехвата провайдерами транзитного DNS-трафика
OpenNews: Рост атак, связанных с захватом контроля над DNS
OpenNews: Релиз DNS-сервера BIND 9.12 


Лицензия: CC-BY
Тип: Программы
Ключевые слова: dns, bind
При перепечатке указание ссылки на opennet.ru обязательно




Обсуждение
Ajax/Линейный | Раскрыть все сообщения |  
RSS




 

1.1, Аноним (1), 10:44, 22/03/2019  [ответить] [показать ветку] [···]    [к модератору] 
+18 +/–
> В named.conf помимо неполиткорректных названий "master" и "slave" теперь в 
> качестве типов зон можно указывать "primary" и "secondary";
Теперь заживем!
 

 
2.3, pztrn (?), 10:59, 22/03/2019 [^] [ответить]    [к модератору] 
+2 +/–
Это ж киллер-фича!
 
 
3.4, grsec (ok), 11:11, 22/03/2019 [^] [ответить]    [к модератору] 
+/–
Толи еще будет.
 
3.9, Аноним (9), 12:31, 22/03/2019 [^] [ответить]    [к модератору] 
+5 +/–
> Это ж киллер-фича!
А в каком выпуске ожидается nigger-фича?
 

2.6, trolleybus (?), 11:42, 22/03/2019 [^] [ответить]    [к модератору] 
+/–
Молодцы, что совместимость не сломали. Надеюсь, SJW-шники не потребуют совсем убрать
 
2.10, PnDx (ok), 12:35, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553240110,'PnDx')
–3 +/–
Ещё политкорректнее заменить на что-нибудь типа "fag" и "punk" (знатоки английской фени могут поправить). Хотя, не следует забывать права лесбиянок и зоофилов. </sarcasm>
 
2.23, iCat (ok), 16:56, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553255802,'iCat')
+/–
А интересно: когда неполиткорректное serve заменять станут?
 



1.2, нах (?), 10:58, 22/03/2019  [ответить] [показать ветку] [···]     [к модератору]  s_n_a(1553234317,'нах')–9 +/–поддержки новых-модных дыр  Прекрасно  удобно, чо - больше корявых интерфейсов, ... весь текст скрыт [показать] 



1.5, ryoken (ok), 11:25, 22/03/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1553235949,'ryoken')
+/–
А какие есть альтернативы сабжу? Для крупных и мелких масштабов? (Слышал про knot-dns, который чехи из CZ.NIZ пилят + их роутер).
 

 
2.7, анон (?), 12:21, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553239264,'анон')
+1 +/–
Я использую NSD. Быстр и удобен.
 
2.8, Аноним (8), 12:23, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553239394,'Аноним')
+1 +/–
Есть еще nsd + unbound от голландских травокуров.
 
2.11, Аноним (11), 12:38, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553240299,'Аноним')
+/–
Knot, erldns, infoblox, NSD, PowerDNS.
 
2.13, пох (?), 13:02, 22/03/2019 [^] [ответить]     [к модератору]  s_n_a(1553241760,'пох')–6 +/–windows2008R2 core  low footprint, ad шная  то есть быстрая и надежная  репликац... весь текст скрыт [показать] 
 
3.16, anonblmous (?), 14:54, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553248472,'anonblmous')
+/–
> Единственный недостаток - 64бита.
Ага, а ценник за лицензию + CAL для каждого клиента?
 
 
4.20, пох (?), 16:04, 22/03/2019 [^] [ответить]     [к модератору]  s_n_a(1553252641,'пох')–7 +/–какой еще тебе ценник, в  стране бесплатного фотошопа   На самом деле - ну сколь... весь текст скрыт [показать] 
 
5.30, SysA (?), 11:41, 25/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553496093,'SysA')
+/–
А я думал, что это шутка была! :)
 


3.25, Аноним (25), 18:51, 22/03/2019 [^] [ответить]     [к модератору]  s_n_a(1553262685,'Аноним')+/–му-ха-ха, один раз  му-ха-ха, второй раз   только эти  последователи  RFC1035 ра... весь текст скрыт [показать] 
 
4.29, пох (?), 08:54, 24/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553399669,'пох')
–1 +/–
смех без причины - признак большого ума и, главное - владения темой.
> что происходит потом c ixfr на другие невиндовые сервера - сами догадаетесь?
их проблемы (впрочем, и тех у кого откуда-то берутся рабочие станции, имеющие произвольные имена левыми алфавитами)
> а слать forward-запрос сразу по tcp 
схерали?
> и косяков там ещё таких - адъ и израиль.
да, я вижу косяков вы скурили уже не один.
 





1.12, arachnid (ok), 13:00, 22/03/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1553241654,'arachnid')
–1 +/–
с учетом того, что 9.13 до сих пор продолжает падать на ровном месте, говорить об использовании 9.14 мне кажется слегка преждевременно 
 

 
2.14, пох (?), 13:05, 22/03/2019 [^] [ответить]     [к модератору]  s_n_a(1553241950,'пох')–3 +/–я бы на твоем месте пересобрал его без openssl, xml и прочей стремной херни - эт... весь текст скрыт [показать] 
 
3.19, arachnid (ok), 15:48, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553251717,'arachnid')
+/–
н-дя... вы какими версиями бинда пользуетесь то? 
ведь судя по вашей реплики - никакими. иначе бы знали, что срок поддержки 9.11 заканчивается 2021, а 13 версия до сих пор относится к unstable. 
 
 
4.21, пох (?), 16:12, 22/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553253170,'пох')
–1 +/–
> н-дя... вы какими версиями бинда пользуетесь то? 
я ж говорю - виндой я пользуюсь. Ну и 9.11 попадается, только я ж не просто так говорил про непубликуемые (у них нет cve ##) дыры - политика isc, с 2001го кажется.
"срок поддержки" у этих альтернативно-одаренных означает только если дырка выльется в паблик - они ее почти быстро почти исправят, не надейтесь ни на что другое. Так что ставьте что на лопате выкатили, иначе будет только хуже.
Исключение - redhat, ibm и еще кто-то, входящие в группу особо доверенных, имеющих доступ к внутренним секьюрити-алертам. Но в шестерке, к примеру, вот такая красота:
9.8.2-0.68.rc1.el6_10.1
68, как мы все понимаем - это число итераций патчинга (даже не отдельных патчей). Все еще хочется разбираться, что они там патчат и работает ли под нагрузкой оно вообще?
 





1.31, Аноним (-), 12:44, 25/03/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1553499876,'Аноним')
+/–
Google со своими восьмерками теперь будет тормозом прогресса.
 

 
2.32, гугель (?), 13:05, 25/03/2019 [^] [ответить]    [к модератору]  s_n_a(1553501132,'гугель')
+/–
> Google со своими восьмерками теперь будет тормозом прогресса.
чего это вдруг? Мы тоже поапгрейдимся.

 




var hidden_msg = new Array(0,2,13,20,25,14); 
var hidden_idx = new Array(0,1,1,2,5,6,6); 
if (text_type == 1){ open_block(116885,3,hidden_msg,1);}




 Добавить комментарий











Имя:
E-Mail:
Заголовок:
Текст:






setup_nick();



load_topnews(1);












    var re = new RegExp('Android|Mobile|Opera Mini','');
    if (navigator.userAgent && re.exec(navigator.userAgent) == null){
	(adsbygoogle = window.adsbygoogle || []).push({});
    }




Навигация




     
Фильтры
    События
    Обзоры и статьи
    Программы
    Уязвимости
    Исключить Linux
    Исключить BSD
    ----- Формат вывода
    10 полных
    20 сокращенных
    40 заголовков
    


 Каналы:      
 Разделы новостей | Сводные
 Что нового на OpenNet
 Поиск в новостях
 Новые комментарии
 Добавить свою новость




Памятные даты


8 апреля RFC исполнилось 50 лет


load_topnews(2);


Важное


- 06.04 Новая криптографическая библиотека EverCrypt с математическим доказательством надёжности (86 +14)
- 04.04 Sisvel формирует патентный пул для сбора отчислений за использование кодеков AV1 и VP9 (169 –44)
- 28.03 Mozilla развивает WASI для использования WebAssembly вне браузера (114 +10)
- 13.03 Выпуск пользовательского окружения GNOME 3.32 (242 +27)
- 06.03 SPOILER - новая атака на механизм спекулятивного выполнения CPU Intel (199 +44)



Советы


- 03.04 Объединение томов через aufs для отказоустойчивости и моментального восстановления 
- 31.03 vmhgfs в старых CentOS и RHEL
- 30.03 Связывание повторяемых сборок GNU Guix с архивом исходных текстов  Software Heritage
- 14.03 Использование slackpkg для chroot
- 03.03 Как сделать пометку ошибок правописания в Firefox более заметной



Обсуждаемые новости


- 11:19 Новая версия музыкального проигрывателя DeaDBeeF 1.8.0  (47)
- 11:18 Сообщество Blender выпустило свободный анимационный фильм Sp (83)
- 11:06 В рамках проекта HermiTux развивается unikernel, бинарно сов (72)
- 10:58 В Wine Staging добавлены патчи для повышения производительно (14)
- 10:34 В Ruby-библитеке bootstrap-sass выявлен бэкдор (32)
- 10:32 Выпуск проекта DXVK 1.1 с реализацией Direct3D 10/11 поверх  (27)
- 10:02 Дерек Форман ушёл поста ответственного за выпуск релизов Way (65)
- 09:59 Релиз дистрибутива для исследования безопасности систем Kali (26)
























  Закладки на сайте
  Проследить за страницей



Created 1996-2019 by Maxim Chirkov  
Добавить, Поддержать, Вебмастеру, ГИД  











  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');





