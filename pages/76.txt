








OpenNews: Выпуск модуля LKRG 0.6 для защиты от эксплуатации уязвимостей в ядре Linux

var topnews=[
{l:-2,n:50177,t:'Раскрыты детали уязвимости в WordPress 5.0.0'},
{l:-1,n:50176,t:'0.77% крупнейших сайтов используют Canvas для скрытой идентификации посетителей'},
{l:0,n:50175,t:'Выпуск модуля LKRG 0.6 для защиты от эксплуатации уязвимостей в ядре Linux'},
{l:1,n:50174,t:'Компания Oracle выпустила обновление Solaris 11.4 SRU 6'},
{l:2,n:50173,t:'Выпуск программы для управления фотографиями digiKam 6.0'}
];


    
  var raw_nowtime=1551093417;











Профиль: Аноним (вход | регистрация)












НОВОСТИ (+)

КОНТЕНТ

WIKI

MAN'ы

ФОРУМ


Поиск (теги)




     



    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }







[ новости /+++ | форум | wiki | теги
| 
]




















20.02.2019 10:13 
Выпуск модуля LKRG 0.6 для защиты от эксплуатации уязвимостей в ядре Linux





Проект Openwall опубликовал выпуск модуля ядра LKRG 0.6  (Linux Kernel Runtime Guard), обеспечивающего выявление несанкционированного внесения изменений в работающее ядро (проверка целостности) или попыток изменения полномочий пользовательских процессов (определение применения эксплоитов). Модуль подходит как для организации защиты от уже известных эксплоитов для ядра Linux (например, в ситуациях когда в системе проблематично обновить ядро), так и для противостояния эксплоитам для ещё неизвестных уязвимостей. Об особенностях LKRG можно прочитать в первом анонсе проекта. 

В новой версии для systemd подготовлен unit-файл для инициализации LKRG на начальной стадии загрузки, а также предложены сборочные опции для его установки и удаления. В подсистеме проверки целостности переработана поддержка меток перехода (*_JUMP_LABEL) и обеспечена защита битов 
SMEP (Supervisor Mode Execution Prevention, 20 бит в регистре CR4) и  WP (Write Protect, 16 бит в регистре CR0) для систем с архитектурой x86. 

В коде определения применения эксплоитов при помощи pCFI (вариант Control Flow Integrity) реализована защита против эксплуатации через непреднамеренный вызов функций ядра в качестве ROP-гаджетов. Интерфейс usermodehelper ограничен запуском приложений из белого списка. pCFI позволил блокировать оба ранее опубликованных метода обхода LKRG из специально модифицированных эксплойтов, тогда как ограничение usermodehelper само по себе также блокировало бы один из них.




Для исключения ложных срабатываний обеспечено замораживание всех пользовательских процессов во время инициализации LKRG. Решены проблемы со сборкой в ядрах Linux 4.17+ при выключении опции CONFIG_ARCH_HAS_SYSCALL_WRAPPER.










исправить  
+10 +/–





Главная ссылка к новости (https://www.openwall.com/lists...)
OpenNews: Выпуск yescrypt 1.0.0, новой схемы хеширования паролей
OpenNews: Обновление сборки Openwall GNU/*/Linux
OpenNews: Проект Openwall подготовил модуль для защиты от эксплуатации уязвимостей в ядре Linux
OpenNews: Проект по продвижению в ядро Linux новых технологий активной защиты
OpenNews: Линус Торвальдс раскритиковал ограничительные меры по усилению защиты ядра Linux


Лицензия: CC-BY
Тип: Программы
Ключевые слова: lkrg, kernel
При перепечатке указание ссылки на opennet.ru обязательно




Обсуждение
Ajax/Линейный | Раскрыть все сообщения |  
RSS




 

1.1, Линус (?), 10:33, 20/02/2019  [ответить] [показать ветку] [···]    [к модератору] 
+3 +/–
Это что, антивирус?!
 

 
2.2, Торвальдс (?), 10:51, 20/02/2019 [^] [ответить]    [к модератору] 
+8 +/–
Нет, это Патрик.
 
2.7, J.L. (?), 13:05, 20/02/2019 [^] [ответить]    [к модератору] 
+1 +/–
> Это что, антивирус?!
не антивирус, а система защиты затрудняющая эксплуатацию дырок
 



1.3, InuYasha (?), 11:14, 20/02/2019  [ответить] [показать ветку] [···]    [к модератору] 
+2 +/–
Каков урон производительности при этом?
 

 
2.11, solardiz (ok), 15:28, 20/02/2019 [^] [ответить]    [к модератору] 
+5 +/–
Типично от долей процента до единиц процентов. Иногда наблюдается даже повышение производительности, что говорит о том что урон сравним с шумом от случайных изменений (расположения компонентов системы в памяти) между перезагрузками системы и т.п. Некоторые результаты тестов есть в файле PERFORMANCE в архиве с релизом и тут: https://www.openwall.com/presentations/CONFidence2018-LKRG-Under-The-Hood/slid
 
 
3.12, Michael Shigorin (ok), 16:34, 20/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550662462,'Michael Shigorin')
–2 +/–
> Иногда наблюдается даже повышение производительности
Ой, а за счёт чего так? (не нашёл в PERFORMANCE)
 
 
4.15, solardiz (ok), 17:47, 20/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550666828,'solardiz')
+3 +/–
Повторюсь, но: за счет того, что урон сравним со "случайными" колебаниями, происходящими по независящим от LKRG по сути причинам. Если просто сравнивать производительность системы между ее разными перезагрузками, при разных загруженных модулях, запущенных спящих программах, то на многих аппаратных платформах результаты будут колебаться в пределах нескольких процентов (а на некоторых и хуже, иногда гораздо хуже). На некоторых получается даже как-бы стабильный эффект (пока не поменяешь что-то еще - например, версию ядра), что загрузка модуля LKRG дает плюс чуть-чуть. Но это не значит, что LKRG такой прям ускоритель. Это просто так карты^Wадреса легли. Почему изменения адресов могут такое давать? Думаю, в основном из-за низкой ассоциативности различных кешей, включая TLB. В PERFORMANCE результаты с системы, где этого эффекта почти не было. Такой эффект был, например, на лаптопе Адама, но мы те результаты не опубликовали. Сейчас посмотрел на его свежие результаты по pCFI в VM на лаптопе - там в одном тесте ускорение на 9%, а в худшем замедление всего лишь на 1.6%. Но мы же не станем говорить, что LKRG в среднем ускоряет компьютер. Мы понимаем, что это сочетание разных эффектов.
 
 
5.22, Michael Shigorin (ok), 18:39, 20/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550669988,'Michael Shigorin')
–1 +/–
> Это просто так карты^Wадреса легли.
А, то есть ещё один фактор и разлёт измеряемого вследствие остальных, превышающий влияние этого.
> Мы понимаем, что это сочетание разных эффектов.
Понял, спасибо.
 
 
6.24, Апасный Тип (?), 21:03, 20/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550678620,'Апасный Тип')
–5 +/–
Ой какой сообразительный. Всегда приятно знать что мои посты удаляет более умный человек чем я.
 

5.25, Ordu (ok), 22:38, 20/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550684300,'Ordu')
+/–
Я не люблю давать советов, когда не просят, но... давайте я это изложу как пожелание: можно не только среднее указывать в результатах, но ещё и дисперсию. Такая штука позволит видеть размеры ошибок и насколько вообще эти средние о чём-либо говорят (может быть случайный шум больше измеряемой разницы?). Кроме того, различия дисперсии задержек в экспериментальном сетапе и в контрольном -- это тоже очень полезная информация, если мы говорим о производительности.
 
 
6.26, solardiz (ok), 00:12, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550689927,'solardiz')
+/–
Спасибо. В файле PERFORMANCE сейчас даны не только средние, но и отдельные результаты 10-ти тестов для каждого случая. Думаю, это в целом показывает картину. Важно еще то, что измеряем мы на конкретном тесте, тогда как реальное использование систем будет сильно отличаться, как впрочем и сами системы. Так что эти тесты - лишь чтобы показать общую картину и чтобы сравнивать разные версии и настройки LKRG друг с другом.
 
6.27, Аноним (27), 00:23, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550690582,'Аноним')
–2 +/–
На надо дисперсию, пусть всю гистограмму дают.
 
 
7.29, Ordu (ok), 01:24, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550694242,'Ordu')
+/–
> На надо дисперсию, пусть всю гистограмму дают.
Гистограмма -- это уже график. Это дополнительные геморрои. Дисперсию же посчитать не сложнее чем среднее, и добавить её в табличку данных тоже несложно.
Если же рисовать картинки, то мне больше нравятся доверительные интервалы. Восприятие гистограммы более субъективно, нежели восприятие доверительных интервалов.
 
 
8.30, Sw00p aka Jerom (?), 03:44, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550702648,'Sw00p aka Jerom')
+/–
вы бы тут еще и на стат анализ ссылочек понакидали, если кто не в курсе
 
 
9.33, PnDx (ok), 14:31, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550741484,'PnDx')
–1 +/–
Для проверки простых моделей (сводящихся к утверждениям вида "что-то одно всегда лучше другого на N%") достаточно сигму смотреть https://ru.wikipedia.org/wiki/%D0%A1%D1%80%D0%B5
 
 
10.35, Sw00p aka Jerom (?), 15:21, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550744462,'Sw00p aka Jerom')
+/–
а как же коэффициент корреляции, или мат ожидание?
 
 
11.38, PnDx (ok), 15:41, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550745713,'PnDx')
+1 +/–
> а как же коэффициент корреляции, или мат ожидание?
  Что, много букф? По ссылке, внизу указатели на "продолжение осмотра".
  А то давайте сразу "кто не в курсе" посылать к Семендяеву унд Бронштейну. Или в http://natribu.org/
  А лучше не поленитесь оставить свой вариант ссылочек для интересующихся. Вдруг кому пригодится?
 
 
12.39, Sw00p aka Jerom (?), 15:46, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550745975,'Sw00p aka Jerom')
+/–
так я и предложил Ordu оставить ссылочку на стат анализ, для тех кто не в курсе.
 



9.40, Ordu (ok), 19:53, 21/02/2019 [^] [ответить]     [к модератору]  s_n_a(1550760791,'Ordu')+/–Я не знаю что посоветовать  Обычно в таких случаях люди рекомендуют всем повтори... весь текст скрыт [показать] 

8.31, Аноним (27), 09:12, 21/02/2019 [^] [ответить]     [к модератору]  s_n_a(1550722340,'Аноним')–1 +/–Гистограмма - это не график  Это пары значений  границы корзины  -  количество э... весь текст скрыт [показать] 
 
9.36, Sw00p aka Jerom (?), 15:25, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550744754,'Sw00p aka Jerom')
+/–
все есть график, если это "рисуется", любой график зависимости можно представить в виде таблицы "пара-значение"
 










1.5, ryoken (ok), 11:53, 20/02/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1550645613,'ryoken')
+3 +/–
Подскажите, кто в курсе. Сие только для x86\AMD64? На Power & K распространяется?
 

 
2.10, solardiz (ok), 15:15, 20/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550657745,'solardiz')
+2 +/–
Пока только x86(-64), но поддержка других архитектур может быть добавлена при наличии спроса, особенно коммерческого (какой-нибудь "cloud" провайдер на Aarch64, какой-нибудь производитель телефонов на Android и т.п.) Причем добавлена она может быть легко, но частично (путем исключения специфичной для x86(-64) функциональности при сборке под другие архитектуры) или сложно, но полностью (путем добавления аналогичной функциональности для конкретных других архитектур). Вот ответ Адама на схожий вопрос: https://www.openwall.com/lists/lkrg-users/2018/07/31/3
 



1.6, не Илья (?), 12:22, 20/02/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1550647365,'не Илья')
+5 +/–
А вот и новые обходы от Ильи:
https://www.openwall.com/lists/lkrg-users/2019/02/20/1
 

 
2.9, solardiz (ok), 15:03, 20/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550656991,'solardiz')
+3 +/–
Илья молодец, спасибо ему. Я только что прокомментировал новые обходы там дальше по треду: думаю, нам надо будет считать такие обходы выходящими за рамки предоставляемой LKRG защиты как минимум на системах/VM'ах без SMEP, а также усилить защиту бита SMEP (пока что очень слабую). Любопытно, что сегодня же Kees Cook предложил в upstream-ядрах устранить gadget, типично используемый эксплойтами (в том числе этим) для выключения SMEP. Может быть, LKRG привнесет аналогичное изменение и в старые ядра.
 



1.28, Аноним (27), 00:25, 21/02/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1550690726,'Аноним')
–1 +/–
solardiz, вижу https вы таки наладили. Спасибо. А планируются ли оффициальные пакеты?
 

 
2.34, solardiz (ok), 15:09, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550743785,'solardiz')
+/–
Бинарные пакеты LKRG, если когда-либо будут, скорее всего окажутся специфичными для конкретных версий конкретных дистрибутивов, а возможно и для конкретных сборок ядра. В ближайших планах их нет, но есть вариант в отдаленном будущем сделать такие сборки под какие-нибудь enterprise'ные дистрибутивы в платном LKRG Pro - как способ финансирования проекта, не связанный с каким-либо урезанием функциональности бесплатного LKRG и позволяющий использовать свободную лицензию (сейчас это GPLv2) и для LKRG Pro (который в таком случае будет лишь проверенной нами сборкой LKRG). Нужны ли бинарные пакеты кроме как под enterprise дистрибутивы и бесплатно? Какие, кому и зачем, учитывая разнообразие версий и сборок ядер, которые нам пришлось бы поддерживать? Пока нам представляется проще нынешний вариант, когда пользователь дает команду make сам и получает сборку под своё ядро. В этом контексте, мы также рассматриваем добавление рандомизации при сборке, что даст пользовательским сборкам некоторое преимущество по безопасности перед заранее подготовленными и у всех одинаковыми пакетами.
 
 
3.41, J.L. (?), 12:39, 22/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550821180,'J.L.')
+/–
> Бинарные пакеты LKRG, если когда-либо будут, скорее всего окажутся специфичными для конкретных 
> версий конкретных дистрибутивов, а возможно и для конкретных сборок ядра.
> разнообразие версий и сборок ядер, которые нам пришлось бы поддерживать
а dkms использовать?
 




1.32, Онанимус (?), 10:47, 21/02/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1550728062,'Онанимус')
+/–
Когда в прошлом году я пробовал LKRG на своем ноуте, то он начинал с материться про взлом поле выхода ноута из спящего режима. Как с этим в новой версии? У меня, к сожалению, сейчас нет времени для теста (
 

 
2.37, solardiz (ok), 15:33, 21/02/2019 [^] [ответить]    [к модератору]  s_n_a(1550745212,'solardiz')
+/–
Знаем об этой проблеме. Проявляется не на всяком железе, что усложняет проверку возможных исправлений. Пока не исправили. Когда исправим, напишем об этом в CHANGES.
 




var hidden_msg = new Array(0,40,31); 
var hidden_idx = new Array(0,1,1,3,3,3,3,3); 
if (text_type == 1){ open_block(116625,3,hidden_msg,1);}


 Добавить комментарий









Имя:
E-Mail:
Заголовок:
Текст:






setup_nick();



load_topnews(1);












    var re = new RegExp('Android|Mobile|Opera Mini','');
    if (navigator.userAgent && re.exec(navigator.userAgent) == null){
	(adsbygoogle = window.adsbygoogle || []).push({});
    }




Навигация




     
Фильтры
    События
    Обзоры и статьи
    Программы
    Уязвимости
    Исключить Linux
    Исключить BSD
    ----- Формат вывода
    10 полных
    20 сокращенных
    40 заголовков
    


 Каналы:      
 Разделы новостей | Сводные
 Что нового на OpenNet
 Поиск в новостях
 Новые комментарии
 Добавить свою новость


load_topnews(2);


Важное


- 23.02 Компания BMW открыла систему распределённой отрисовки RAMSES (17 +28)
- 12.02 Опубликована техника скрытия вредоносного кода в анклавах Intel SGX (69 +31)
- 07.02 Выпуск офисного пакета LibreOffice 6.2 (134 +47)
- 29.01 Релиз Firefox 65 (118 +39)
- 23.01 Стабильный релиз Wine 4.0 (124 +67)
- 23.01 Новая редакция манифеста Chrome сделает невозможным использование uBlock Origin (375 –52)



Советы


- 25.02 Прикрепление к коммиту в Git нескольких цифровых подписей
- 27.01 Отключение wakeup для PCIe устройств
- 25.01 Включение ESNI и DNS over HTTPS в Firefox
- 24.01 Список общедоступных DNS-резолверов
- 07.11 История про Ceph и реплику 1+2



Обсуждаемые новости


- 14:09 ICANN призывает к повсеместному внедрению DNSSEC. Обновление (74)
- 14:04 Объявлено о прекращении формирования сводных релизов X.org (25)
- 14:01 Проекты F-Droid и Android Rebuilds ввели в строй репозиторий (12)
- 13:54 Компания Mozilla представила систему синтеза речи LPCNet (88)
- 13:45 Выпуск распределенной системы управления исходными текстами  (21)
- 13:39 Обновление Tor с устранением потенциальной уязвимости (31)
- 13:31 В Firefox появится режим картинка в картинке и переработанны (58)
- 11:48 Компания BMW открыла систему распределённой 3D-отрисовки RAM (17)
























  Закладки на сайте
  Проследить за страницей



Created 1996-2019 by Maxim Chirkov  
Добавить, Поддержать, Вебмастеру, ГИД  











  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');





