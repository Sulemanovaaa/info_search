








OpenNews: В Wine Staging добавлены патчи для повышения производительности многопоточных игр

var topnews=[
{l:-1,n:50478,t:'Новая версия музыкального проигрывателя DeaDBeeF 1.8.0 '},
{l:0,n:50475,t:'В Wine Staging добавлены патчи для повышения производительности многопоточных игр'},
{l:1,n:50473,t:'В рамках проекта HermiTux развивается unikernel, бинарно совместимый с Linux'},
{l:2,n:50472,t:'Выпуск проекта DXVK 1.1 с реализацией Direct3D 10/11 поверх API Vulkan '}
];


    
  var raw_nowtime=1554711772;











Профиль: Аноним (вход | регистрация)












НОВОСТИ (+)

КОНТЕНТ

WIKI

MAN'ы

ФОРУМ


Поиск (теги)




     



    .hdr_mobile {
	text-align: center; 
	display: none;
	margin: 0px;
	padding: 0px;
    }







[ новости /+++ | форум | wiki | теги
| 
]





















В Wine Staging добавлены патчи для повышения производительности многопоточных игр

07.04.2019 20:25




В ветку Wine Staging, включающую не полностью готовые или рискованные изменения, пока не пригодные для принятия в основную ветку Wine, добавлен  набор патчей "esync" (Eventfd Synchronization), позволяющих добиться увеличения производительности многопоточных Windows игр и приложений. Патчи были подготовлены ещё летом прошлого года и используются в развиваемом компанией Valve проекте Proton, но включены в репозиторий Wine Staging только сейчас. По умолчанию esync отключен и для его активации следует установить переменную окружения WINEESYNC в значение, отличное от нуля.


Использование сборки Wine с поддержкой esync значительно снижает нагрузку на CPU в некоторых играх и позволяет добиться увеличения производительности за счёт рационального использования ресурсов многоядерных CPU и эффективного распределения процессов по ядрам CPU.
Esync предлагает примитивы синхронизации, реализованные поверх Linux API eventfd, который в отличие от  futexes и семафоров pthread, позволяет опросить состояние сразу нескольких объектов синхронизации. 

 
Целью проекта является организация выполнения всех операций синхронизации в "пользовательском пространстве", без привлечения wineserver. При использовании esync почти все операции ожидания события выполняются на стороне ntdll, включая привязанные к объектам сервера. Сервер лишь создаёт файловый дескриптор eventfd и возвращает его в ntdll, а ntdll создаёт необходимый объект синхронизации и кэширует его.

  

Так как esync создаёт отдельный файловый дескриптор для каждого объекта, то при запуске некоторых игр может быть превышен системный лимит на число открытых файлов. В случае вывода ошибки "eventfd: Too many open files" следует увеличить число открытых файлов через изменение настройки "nofile" в /etc/security/limits.conf,  /etc/systemd/system.conf или /etc/systemd/user.conf или при помощи команды "ulimit -Hn 1048576".










исправить  
+11 +/–





Главная ссылка к новости (https://vk.com/multi_linux_com...)
OpenNews: Выпуск проекта Wine Staging 4.0, дополняющего Wine 4.0
OpenNews: Стабильный релиз Wine 4.0
OpenNews: Проект Hangover для запуска Windows-приложений на системах ARM64 c Linux и Android
OpenNews: Вышел WineVDM 0.7
OpenNews: Выпуск Proton 4.2-1, пакета для запуска Windows-игр в Linux


Автор новости: Павел Павлов
Тип: К сведению
Ключевые слова: wine, game
При перепечатке указание ссылки на opennet.ru обязательно




Обсуждение (14)
Ajax/Линейный | Раскрыть все сообщения |  
RSS




 

1.1, Skullnet (?), 23:50, 07/04/2019  [ответить] [показать ветку] [···]    [к модератору] 
+/–
Долго пересобирать, будет в официальном ppa?
 

 
2.2, Аноним (2), 23:56, 07/04/2019 [^] [ответить]    [к модератору] 
+1 +/–
Будет, начиная с Wine Staging 4.6.
 
 
3.5, Skullnet (?), 01:58, 08/04/2019 [^] [ответить]    [к модератору] 
–1 +/–
> Будет, начиная с Wine Staging 4.6.
Тогда, возможно, и соберу. Жаль нету автоматической сборки.
 
 
4.14, Аноним (2), 10:58, 08/04/2019 [^] [ответить]    [к модератору] 
+/–
Вот здесь есть PKGBUILD для Arch Linux с Wine Staging (git) :
https://github.com/Tk-Glitch/PKGBUILDS
 





1.3, Аноним (3), 00:57, 08/04/2019  [ответить] [показать ветку] [···]     [к модератору] +/–Это хорошо  А то я думал, как бы грамотнее его  впилить  в openSUSE  У нас и так... весь текст скрыт [показать] 

 
2.4, axredneck (?), 01:56, 08/04/2019 [^] [ответить]    [к модератору]  s_n_a(1554670585,'axredneck')
+1 +/–
Nine можно и отдельным пакетом сделать:
https://github.com/iXit/wine-nine-standalone
 



1.6, Анонимчик (?), 04:29, 08/04/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1554679798,'Анонимчик')
–3 +/–
Наконец-то не придётся использовать всякие говносборки от Крончека )
 



1.7, Аноним (7), 06:24, 08/04/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1554686664,'Аноним')
+/–
Вайн в последнее время развивается просто ударными темпами. Кто-то подкинул денег из корпораций?
 

 
2.8, пох (?), 07:03, 08/04/2019 [^] [ответить]    [к модератору]  s_n_a(1554689018,'пох')
+/–
больше полугода на мерж готового патча без изменений и исправлений, и то в staging и в отключенном виде - это "ударными темпами"?
хотя для wine... да, пожалуй.
 
 
3.13, Аноним (13), 10:53, 08/04/2019 [^] [ответить]    [к модератору]  s_n_a(1554702823,'Аноним')
+/–
не мержат потому что кривоват by-design: https://github.com/zfigura/wine/issues/18
 

2.9, Аноним (9), 08:23, 08/04/2019 [^] [ответить]    [к модератору]  s_n_a(1554693814,'Аноним')
+3 +/–
Proton же. Там esync с первого выпуска https://www.opennet.ru/opennews/art.shtml?num=49164
 
2.11, Аноним (11), 10:39, 08/04/2019 [^] [ответить]    [к модератору]  s_n_a(1554701944,'Аноним')
+/–
Сам Вайн не особо развивается. Тащат наработки Протона, хотя по тупой причине некоторые пилят сами(аналог DXVK).
 



1.10, Аноним (10), 09:07, 08/04/2019  [ответить] [показать ветку] [···]    [к модератору]  s_n_a(1554696454,'Аноним')
+/–
>По умолчанию esync отключен и для его активации следует установить переменную окружения WINEESYNC в значение, отличное от нуля. 
А что не в winecfg?
 

 
2.12, Аноним (2), 10:51, 08/04/2019 [^] [ответить]    [к модератору]  s_n_a(1554702711,'Аноним')
+/–
Нет, в winecfg нет возможности это включить. Не исключено, что такая возможность появится когда-либо в будущем, но пока что не сейчас...
 




var hidden_msg = new Array(0,3); 
var hidden_idx = new Array(0,1,1,2,2,2,2); 
if (text_type == 1){ open_block(117056,3,hidden_msg,1);}




 Добавить комментарий











Имя:
E-Mail:
Заголовок:
Текст:






setup_nick();



load_topnews(1);












    var re = new RegExp('Android|Mobile|Opera Mini','');
    if (navigator.userAgent && re.exec(navigator.userAgent) == null){
	(adsbygoogle = window.adsbygoogle || []).push({});
    }




Навигация




     
Фильтры
    События
    Обзоры и статьи
    Программы
    Уязвимости
    Исключить Linux
    Исключить BSD
    ----- Формат вывода
    10 полных
    20 сокращенных
    40 заголовков
    


 Каналы:      
 Разделы новостей | Сводные
 Что нового на OpenNet
 Поиск в новостях
 Новые комментарии
 Добавить свою новость




Памятные даты


8 апреля RFC исполнилось 50 лет


load_topnews(2);


Важное


- 06.04 Новая криптографическая библиотека EverCrypt с математическим доказательством надёжности (86 +14)
- 04.04 Sisvel формирует патентный пул для сбора отчислений за использование кодеков AV1 и VP9 (169 –44)
- 28.03 Mozilla развивает WASI для использования WebAssembly вне браузера (114 +10)
- 13.03 Выпуск пользовательского окружения GNOME 3.32 (242 +27)
- 06.03 SPOILER - новая атака на механизм спекулятивного выполнения CPU Intel (199 +44)



Советы


- 03.04 Объединение томов через aufs для отказоустойчивости и моментального восстановления 
- 31.03 vmhgfs в старых CentOS и RHEL
- 30.03 Связывание повторяемых сборок GNU Guix с архивом исходных текстов  Software Heritage
- 14.03 Использование slackpkg для chroot
- 03.03 Как сделать пометку ошибок правописания в Firefox более заметной



Обсуждаемые новости


- 11:19 Новая версия музыкального проигрывателя DeaDBeeF 1.8.0  (47)
- 11:18 Сообщество Blender выпустило свободный анимационный фильм Sp (83)
- 11:06 В рамках проекта HermiTux развивается unikernel, бинарно сов (72)
- 10:58 В Wine Staging добавлены патчи для повышения производительно (14)
- 10:34 В Ruby-библитеке bootstrap-sass выявлен бэкдор (32)
- 10:32 Выпуск проекта DXVK 1.1 с реализацией Direct3D 10/11 поверх  (27)
- 10:02 Дерек Форман ушёл поста ответственного за выпуск релизов Way (65)
- 09:59 Релиз дистрибутива для исследования безопасности систем Kali (26)
























  Закладки на сайте
  Проследить за страницей



Created 1996-2019 by Maxim Chirkov  
Добавить, Поддержать, Вебмастеру, ГИД  











  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-123449-1', 'auto');
    ga('send', 'pageview');





